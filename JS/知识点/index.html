<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
    //     let x = {}
    //     let y = '1'
    //     let z = 1
    //     x[y] = '你哈'
    //     x[z] = 'hello'
    //     // console.log(x[y])
    //     // ----------------------------------
    //     let h = {}
    //     let g = Symbol('1')
    //     let f = Symbol(1)
    //     h[g] = 'g'
    //     h[f] = 'f'
    //     // console.log(h[g])
    //     //Symbol成员唯一性
    //     // ----------------------------------
    //     let a = {}
    //     let b = {
    //         n: '1'
    //     }
    //     let c = {
    //         m:'2'
    //     }
    //     a[b] = 'Eileen'
    //     a[c] = 'John'
    //     // console.log(a[b])
    //     //关键：a[b]这个中括号用来存放变量，会对[]里面的内容进行toString（）b和c调用toString
    //     // 得到的都是[object Object]，说明属性名一样。

    //     // let test = (function(i) {
    //     //     return function() {
    //     //         console.log(i += 2) 
    //     //     }
    //     // })(2)
    //     // console.log(test(5))


    //     // var a1 = 0
    //     // var b1 = 0
    //     // function A(a1) {
    //     //     A = function(b1) {
    //     //         console.log(a1+ b1++)
    //     //     }
    //     //     console.log(a1++)
    //     // }
    //     // A(1)
    //     // A(2)
    //     // A(3)
    //     // A(4) 

        function Foo() {
            getName = function() {
                console.log(1)
            }
            return this
        }
        Foo.getName = function() {
            console.log(2)
        }
        Foo.prototype.getName = function() {
            console.log(3)
        }
        var getName = function() {
            console.log(4)
        }
        function getName() {
            console.log(5)
        }
        Foo.getName()
        getName()
        Foo().getName()
        getName()
        new Foo.getName()
        new Foo().getName()
        new new Foo().getName()
        //考察：运算符的优先级

        // new Foo.getName()  new->18 Foo.getName()->19
        //new Foo().getName()  new Foo()->19 xxx.getName()->19
        //new new Foo().getName()  new Foo()->19 xxx.getName()->19  new xxx.getName()->18
        
    // async function async1() {
    //         console.log("async1 start")
    //         await async2()
    //         console.log("async1 end")
    // }
    // async function async2() {
    //         console.log("async2")
    // }
    // console.log("script start")
    // setTimeout(() => {
    //      console.log('settimeout')
    // }, 0);
    // async1()
    // new Promise(function(resolve) {
    //     console.log('promise1')
    //     resolve()
    // }).then(function() {
    //     console.log('promise2')
    // })
    // console.log("script end")



    // function A() {
    //     console.log('A')
    // }
    // function Func() {
    //     A = function() {
    //         console.log('B')
    //     }
    //     return this
    // }
    // Func.A = A
    // Func.prototype = {
    //     A:() => {
    //         console.log('C')
    //     }
    // }
    // A() //A
    // Func.A() //A
    // Func().A() //B
    // new Func.A()//A
    // new Func().A() //C
    // new new Func().A() //报错，箭头函数不能被new,如果是普通函数就C

    // var x = 2
    // var y = {
    //     x: 3,
    //     z:(function(x) {
    //         this.x *= x
    //         x += 2
    //         return function(n) {
    //             this.x *= n
    //             x += 3
    //             console.log(x)
    //         }
    //     })(x)
    // }
    // var m = y.z
    // m(4)
    // y.z(5)
    // console.log(x,y-x)


    // var x = 0//2,4
    // var y = 1
    // function fn() {
    //     x += 2
    //     fn = function(y) {
    //         console.log(y+ (--x)) //4+1 =5
    //     }
    //     console.log(x,y)//2,1  1,1
    // }
    // fn(3)
    // fn(4) 
    // console.log(x,y)

    // setTimeout(() => {
    //     console.log(1)
    // }, 20);
    // setTimeout(() => {
    //     console.log(3)
    // }, 10);
    // console.time('AA')
    // for(let i = 0; i < 90000000; i++) {

    // }
    // console.timeEnd('AA') //79ms左右
    // setTimeout(() => {
    //     console.log(6)
    // }, 8);
    // setTimeout(() => {
    //     console.log(8)
    // }, 15);
    //3,1,6,8

 

    //方法一：
        // var a = {
        //     i: 0,
        //     toString() {
        //         return ++this.i
        //     }
        // }
        // if(a == 1 && a == 2 && a == 3) {
        //     console.log('条件成立')
        // }         
    //根据==的处理机制，默认转换规则：左右两边类型不一样，1：对象==字符串，对象.toString()变为字符串
    // null == undefined相等，但是和其他值比较就不相等，NaN和NaN和自己以外的所有值都不相等，剩下的都转换为数字
    
    //方法二：数据劫持实现
        // var i = 0
        // Object.defineProperty(window,'a', {
        //     get() { return ++i }
        // })
        // if(a == 1 && a == 2 && a == 3) {
        //     console.log('条件成立')
        // }
    //方法三：
    var a = [1,2,3]
    a.toString = a.shift
    if(a == 1 && a == 2 && a == 3) {
            console.log('条件成立')
        }

    </script>
</body>
</html>